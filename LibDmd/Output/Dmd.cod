//
// Generated by Microsoft (R) HLSL Shader Compiler 6.3.9600.16384
//
// Parameters:
//
//   float AspectRatio;
//   float BlockCount;
//   float4 FilterColor;
//   float IsMonochrome;
//   float Max;
//   sampler2D input;
//
//
// Registers:
//
//   Name         Reg   Size
//   ------------ ----- ----
//   BlockCount   c0       1
//   FilterColor  c1       1
//   Max          c2       1
//   AspectRatio  c3       1
//   IsMonochrome c4       1
//   input        s0       1
//

    ps_2_0
    def c5, 0.5, 0, 4.5454545, 1
    def c6, -0, -0, -0, -1
    def c7, 0.300000012, 0.589999974, 0.109999999, 0
    dcl t0.xy  // uv<0,1>
    dcl_2d s0

#line 34 "S:\Development\pindmd-dotnet\PinDmd\Output\Dmd.fx"
    rcp r0.w, c3.x
    mul r0.x, r0.w, c0.x  // ::BlockCount2<1>

#line 52
    mul r0.z, r0.x, t0.y

#line 35
    rcp r1.z, r0.x  // ::BlockSize2<1>

#line 52
    mul r0.y, t0.x, c0.x
    frc r2.yz, r0
    add r0.yz, r0, -r2  // ::blockPos<0,1>

#line 35
    rcp r1.y, c0.x  // ::BlockSize2<0>

#line 53
    mul r2.yz, r1, c5.x
    mad r0.yz, r0, r1, r2  // ::blockCenter<0,1>

#line 57
    mul r0.x, r0.y, c3.x  // ::blockCenterScaled<0>

#line 60
    mov r0.w, t0.y
    mad r1.x, t0.x, c3.x, -r0.x
    add r1.y, -r0.z, r0.w
    mov r0.xy, r0.yzxw
    texld r0, r0, s0  // ::insideColor<0,1,2,3>
    dp2add r1.x, r1, r1, c5.y
    rsq r1.x, r1.x
    rcp r1.x, r1.x

#line 70
    mov r2.x, c0.x  // ::BlockCount<0>
    mad r1.x, r1.x, -r2.x, c2.x  // ::distFromEdge<0>
    mad_sat r1.x, r1.x, c5.z, c5.x  // ::antialiasedCircle<0>
    lrp r2, r1.x, r0, -c6  // ::SetDMD<0,1,2,3>

#line 43
    dp3 r0.x, r2, c7  // ::luminance<0>
    mul r0.xyz, r0.x, c1  // ::monochrome<0,1,2>

#line 40
    frc r0.w, c4.x
    cmp r1.x, -r0.w, c5.y, c5.w
    add r0.w, -r0.w, c4.x
    mov r1.y, c5.y
    cmp r1.x, c4.x, r1.y, r1.x
    add r0.w, r0.w, r1.x
    add r0.w, r0.w, -c5.w
    mul r0.w, r0.w, r0.w

#line 45
    cmp r2.xyz, -r0.w, r0, r2  // ::monochrome<0,1,2>
    mov oC0, r2  // ::main<0,1,2,3>

// approximately 36 instruction slots used (1 texture, 35 arithmetic)
